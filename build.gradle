buildscript {
    repositories {
        mavenCentral()
        maven { url = 'https://files.minecraftforge.net/maven' }
        maven { url = 'https://oss.sonatype.org/content/repositories/snapshots' }
    }
    dependencies {
        classpath 'net.minecraftforge.gradle:ForgeGradle:2.3-SNAPSHOT'
    }
}

apply plugin: 'net.minecraftforge.gradle'

group = 'com.example' // Replace with your mod's group
version = '1.0' // Replace with your mod's version
archivesBaseName = 'sessiontokenmod' // Replace with your mod's name

minecraft {
    version = "1.8.9-11.15.1.2318" // Minecraft version
    runs {
        client {
            workingDirectory = file('run')
        }
        server {
            workingDirectory = file('run')
        }
    }
}

repositories {
    mavenCentral()
    maven { url = 'https://files.minecraftforge.net/maven' }
}

dependencies {
    minecraft 'net.minecraftforge:forge:1.8.9-11.15.1.2318'
    // Add any additional dependencies here
}

processResources {
    inputs.property 'maven.version', project.property('version')
    inputs.property 'minecraft.version', project.property('minecraft.version')
    from(sourceSets.main.resources.srcDirs) {
        include '**/*.json', '**/*.properties'
    }
}

jar {
    manifest {
        attributes(
            'Main-Class': 'com.example.sessiontokenmod.SessionTokenMod' // Replace with your main class
        )
    }
}

task runClient(type: JavaExec) {
    main = 'net.minecraft.client.main.Main'
    args = ['--username', 'Player', '--version', '1.8.9', '--gameDir', '.', '--assetsDir', '.', '--assetIndex', '1.8', '--uuid', '1234', '--accessToken', '5678', '--userProperties', '{}', '--userType', 'mojang']
}

task runServer(type: JavaExec) {
    main = 'net.minecraft.server.MinecraftServer'
    args = ['nogui']
}
